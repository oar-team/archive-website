<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.5-2squeeze6" />
		<meta name="robots" content="noindex,follow" />
		<meta name="keywords" content="Kameleon Page,OARLiveCD Proposal,Bzizou,Ygeorgiou" />
		<link rel="shortcut icon" href="http://oar.imag.fr/images/logo_oar.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="WikiOAR (en)" />
		<link rel="alternate" type="application/rss+xml" title="WikiOAR RSS feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="WikiOAR Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom" />
		<title>[OAR Archive] Kameleon Page - WikiOAR</title>
		<link rel="stylesheet" href="skins/common/commonPrint.css%3F207.css" type="text/css" />
		<link rel="stylesheet" href="index.php%3Ftitle=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%252Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000.css" type="text/css" />
		<link rel="stylesheet" href="index.php%3Ftitle=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%252Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000.css" type="text/css" />
		<link rel="stylesheet" href="index.php%3Ftitle=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%252Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000.css" type="text/css" />
		<link rel="stylesheet" href="index.php%3Ftitle=-&amp;action=raw&amp;maxage=18000&amp;gen=css.css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/skins";
		var wgArticlePath = "/index.php/$1";
		var wgScriptPath = "";
		var wgScript = "/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://oar.imag.fr/archive/wiki-oar";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Kameleon_Page";
		var wgTitle = "Kameleon Page";
		var wgAction = "view";
		var wgArticleId = "91";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 2944;
		var wgVersion = "1.15.5-2squeeze6";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="skins/common/wikibits.js%3F207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="skins/common/ajax.js%3F207"></script>
		<script type="text/javascript" src="index.php%3Ftitle=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Kameleon_Page skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Kameleon Page</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From WikiOAR</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#searchInput">search</a></div>			<!-- start content -->
			<p><br />
This is the <b>Kameleon GSOC 2009</b> page. Also check the main page here: <a href="index.php/Kameleon.html" class="external free" title="http://oar.imag.fr/archive/wiki-oar/index.php/Kameleon" rel="nofollow">http://oar.imag.fr/archive/wiki-oar/index.php/Kameleon</a>
</p><p><a href="index.php/OARLiveCD_Proposal.html" title="OARLiveCD Proposal"> See original proposal here</a>
</p><p><br />
<b>Student, please read carefully this page...</b>
</p><p><br />
Student: Darko Ilic 
</p><p>Mentor: Yiannis Georgiou
</p><p>Co-Mentors: Bruno Bzeznik, Yiannis Georgiou, Joseph Emeras 
</p>
<hr />
<p><br />
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Student:_Things_to_do_before_starting"><span class="tocnumber">1</span> <span class="toctext">Student: Things to do before starting</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#How_to_start_the_project"><span class="tocnumber">2</span> <span class="toctext">How to start the project</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#May.27s_19_Brainstorming"><span class="tocnumber">3</span> <span class="toctext">May's 19 Brainstorming</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Project.27s_specifications"><span class="tocnumber">4</span> <span class="toctext">Project's specifications</span></a>
<ul>
<li class="toclevel-2"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Implementation_Ideas"><span class="tocnumber">4.1</span> <span class="toctext">Implementation Ideas</span></a>
<ul>
<li class="toclevel-3"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Directory_structure"><span class="tocnumber">4.1.1</span> <span class="toctext">Directory structure</span></a></li>
<li class="toclevel-3"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#The_recipe_file"><span class="tocnumber">4.1.2</span> <span class="toctext">The recipe file</span></a></li>
<li class="toclevel-3"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#The_macrosteps_files"><span class="tocnumber">4.1.3</span> <span class="toctext">The macrosteps files</span></a></li>
<li class="toclevel-3"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Microsteps_commands"><span class="tocnumber">4.1.4</span> <span class="toctext">Microsteps commands</span></a></li>
<li class="toclevel-3"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Breakpoints_and_error_handling"><span class="tocnumber">4.1.5</span> <span class="toctext">Breakpoints and error handling</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Changelog.2Ftodo"><span class="tocnumber">4.2</span> <span class="toctext">Changelog/todo</span></a></li>
<li class="toclevel-2"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Initial_Workplan"><span class="tocnumber">4.3</span> <span class="toctext">Initial Workplan</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Roadmap_.28and_Timeline.29"><span class="tocnumber">5</span> <span class="toctext">Roadmap (and Timeline)</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#TODO_list"><span class="tocnumber">6</span> <span class="toctext">TODO list</span></a>
<ul>
<li class="toclevel-2"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Mentor"><span class="tocnumber">6.1</span> <span class="toctext">Mentor</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Links"><span class="tocnumber">7</span> <span class="toctext">Links</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes.html#Videos"><span class="tocnumber">8</span> <span class="toctext">Videos</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Student:_Things_to_do_before_starting" id="Student:_Things_to_do_before_starting"></a><h2> <span class="mw-headline">Student: Things to do before starting</span></h2>
<ul><li> <s>ASAP: get an account on grid5000: <a href="https://www.grid5000.fr/mediawiki/index.php/Grid5000:Get_an_account" class="external free" title="https://www.grid5000.fr/mediawiki/index.php/Grid5000:Get_an_account" rel="nofollow">https://www.grid5000.fr/mediawiki/index.php/Grid5000:Get_an_account</a></s>
</li><li> Create a valid user report for grid5000 platform
</li></ul>
<a name="How_to_start_the_project" id="How_to_start_the_project"></a><h2> <span class="mw-headline">How to start the project</span></h2>
<ul><li> play with installing and configuring OAR using DEB / RPM packages upon grid5000 image
</li><li> start using OAR live CD on laptop or grid5000
</li><li> modify script for construction of OAR live CD to support:
<ul><li> the fetch of a debian image using debootstrap (for the moment it uses a minimal debian customized image stored locally)
</li><li> the activation of cpusets 
</li><li> the automatic detection of resources using the script oar_resources_init and detect_resources that we use for the configuration upon grid5000
</li></ul>
</li><li> to check the initialization script used in SysrescueCD and see how they choose the keyboard language... it has to continue with a default value after a specific   timeout..the same thing for the launch of server X... it could even be used to choose if we want a server or a node...--<a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=User:Ygeorgiou&amp;action=edit&amp;redlink=1" class="new" title="User:Ygeorgiou (page does not exist)">Ygeorgiou</a> 15:57, 29 April 2009 (UTC)
</li></ul>
<a name="May.27s_19_Brainstorming" id="May.27s_19_Brainstorming"></a><h2> <span class="mw-headline">May's 19 Brainstorming</span></h2>
<p>Meeting between Olivier, Bruno and Yiannis
</p>
<ul><li> Tried to conceptualize the project 
</li><li> Has to be general enough so that it can be modular and extensible.
</li><li> We have to define the different steps of the procedure.
</li><li> Initial Idea based on a main Kameleon Engine along with description files composed by Macrosteps and microsteps, with the engine implemented in Ruby and the description files in Yaml.
</li><li> The user will be able to provide the MacroStep he wants to start from.
</li><li> Each macrostep will be composed by various microsteps. 
</li><li> We have to anticipate for debugging options.
</li><li> The macrosteps and microsteps have to collect the error codes of the commands executed and treat them.
</li><li>  ...
</li></ul>
<p><br />
</p>
<a name="Project.27s_specifications" id="Project.27s_specifications"></a><h2> <span class="mw-headline">Project's specifications</span></h2>
<p>In the context of the latest trends related with 'virtualization', 'cluster in a box' and 'cloud computing' in this project we are interested in providing a tool (named Kameleon) that will be able to construct an OAR iso image or appliance (VMWare, Xen, Grid5000) which will be used for automatic installation and configuration of a virtual OAR cluster. The created iso image/appliance will be useful in various cases like:
</p>
<ul><li> to test/debug OAR latest version or bugfix on your laptop.
</li><li> to try and play with OAR resource management system and its features, before actually installing it.
</li><li> to create a virtual cluster and use it
</li><li> ...
</li></ul>
<p>The goal of the project is to create the mechanism of the automatic construction of an iso image and appliances with OAR installed. The created iso image/appliance, once it is deployed, it will be able to autoconfigure a virtual cluster according to the initial specifications of the user. 
We would like to give as input values like: 
</p>
<ul><li> distribution (debian lenny, centos 5,...)
</li><li> kernel 
</li><li> output type (iso, cow, tgz,...)
</li><li> packages (libraries(openmpi,mpich,...), benchmarks(linpack,nas), ...)
</li><li> ...
</li></ul>
<p>and taking as an output the specified type of image ready for installation/autoconfiguration
</p><p><br />
</p>
<a name="Implementation_Ideas" id="Implementation_Ideas"></a><h3> <span class="mw-headline">Implementation Ideas</span></h3>
<p><a href="index.php/Image:WhiteBoardKameleonSnapshot.jpg.html" class="external free" title="http://oar.imag.fr/archive/wiki-oar/index.php/Image:WhiteBoardKameleonSnapshot.jpg" rel="nofollow">http://oar.imag.fr/archive/wiki-oar/index.php/Image:WhiteBoardKameleonSnapshot.jpg</a>
</p><p>According to our Brainstorming we tried to define an implementation description. 
</p>
<ul><li> The main Kameleon engine will be programmed in Ruby
</li><li> The architecture will be based on Yaml description/configuration files 
</li><li> The description files will be composed by macrosteps and microsteps
</li></ul>
<p>The architecture can look like this:
</p><p><a href="index.php/File:Spec.png.html" class="image" title="Image:spec.png"><img alt="Image:spec.png" src="images/b/b0/Spec.png" width="481" height="331" border="0" /></a>
</p>
<a name="Directory_structure" id="Directory_structure"></a><h4> <span class="mw-headline">Directory structure</span></h4>
<p>All the configuration files are in a data directory, for example /var/lib/kameleon. We can have:
</p>
<pre>/var/lib/kameleon
            |_/recipes
            |     |_/debian-lenny-x86_64-oar-2.4-iso.yaml
            |     |_/centos-5.2-x86_64-oar-2.4-xen.yaml
            |     |_/...
            |_/steps
                  |_/common    #(includes)
                        |_/oar_resources_setup.yaml
                        |_/...
                  |_/debian-lenny-x86_64
                        |_/bootstrap.yaml
                        |_/...
                  |_/...
</pre>
<a name="The_recipe_file" id="The_recipe_file"></a><h4> <span class="mw-headline">The recipe file</span></h4>
<p>This file is a configuration file. It has a <b>global</b> part configuring some variables and a <b>steps</b> part listing all the steps (macrosteps composed of microsteps) that have to be executed in the given order.
In the global part, some variables are mandatory and others may be custom variables used into microsteps. In the steps part, if no microsteps are given, then it means that all the microsteps are executed in the order they have been defined into the corresponding macrostep file.
</p><p>Example:
</p>
<pre>#/var/lib/kameleon/recipes/debian-lenny-oar-2.4.yaml
#example of a recipe

global:
 distrib: debian-lenny-x86_64
 type: iso
 initial_appliance: file://var/tmp/base_debian-lenny.tgz
 workdir_base: /var/tmp/
 distrib-repository: <a href="ftp://debian.ftp.fr/deb/" class="external free" title="ftp://debian.ftp.fr/deb/" rel="nofollow">ftp://debian.ftp.fr/deb/</a>
 packages: file://./svn/build-area/
steps:
 - bootstrap
 - minimal_packages_installation
 - system_configuration
 - oar_install
 - oar_init:
   - config_oar_key
   - stop_host_mysql
   - stop_oar_server
   - start_appliance_mysql
   - init_mysql_db
   - init_oar_db
   - create_oar_resources
   - stop_appliance_mysql
 - kernel_install
 - image_create
 - clean
</pre>
<a name="The_macrosteps_files" id="The_macrosteps_files"></a><h4> <span class="mw-headline">The macrosteps files</span></h4>
<p>Example:
</p>
<pre>#/var/lib/kameleon/steps/debian-lenny-x86_64/oar_install.yaml
#macrostep oar_install for debian lenny 64 bits
oar_install:
 - init_repo:
   - check_cmd:       dpkg-scanpackages
   - exec_chroot:     mkdir -p /var/lib/debs
   - exec_appliance:  cp $$packages/*.deb ./var/lib/debs/
   - exec_appliance:  cd ./var/lib &amp;&amp; dpkg-scanpackages debs /dev/null | gzip &gt; debs/Packages.gz
 - config_apt_local:
   - append_file:
     - /etc/apt/sources.lists
     - deb file:/var debs/
   - exec_chroot:     apt-get update -q
 - oar_install:
   - exec_chroot: |
                  DEBIAN_FRONTEND=noninteractive apt-get -q install -y --force-yes oar-server oar-user  oar-node oar-doc oar-admin oar-web-status
                  DEBIAN_FRONTEND=noninteractive apt-get -q install -y --force-yes oar-api || true
 - oar_add_online_repo:
   - append_file:
     - /etc/apt/sources.lists
     - |
       deb <a href="http://ftp.fr.debian.org/debian" class="external free" title="http://ftp.fr.debian.org/debian" rel="nofollow">http://ftp.fr.debian.org/debian</a> lenny main
       deb <a href="http://security.debian.org/" class="external free" title="http://security.debian.org/" rel="nofollow">http://security.debian.org/</a> lenny/updates main
       deb <a href="http://oar.imag.fr/debian/unstable/2.4/" class="external free" title="http://oar.imag.fr/debian/unstable/2.4/" rel="nofollow">http://oar.imag.fr/debian/unstable/2.4/</a> ./
</pre>
<pre>#/var/lib/kameleon/steps/common/oar_init.yaml                                                 
 - config_oar_key:                                                                            
   - exec_chroot:      perl -pi -e 's/^/environment="OAR_KEY=1" /' ~oar/.ssh/authorized_keys  
 - stop_host_mysql:                                                                           
   - exec_current: |                                                                          
                   RC=0                                                                       
                   /etc/init.d/mysql status &gt; /dev/null || RC=$?                              
                   if [ "$RC" = "0" ]                                                         
                   then
                     /etc/init.d/mysql stop
                     MYSQL_STARTED=1
                   fi
 - init_mysql_db:
   - write_file:
     - /tmp/init.sql
     - |
       CREATE DATABASE IF NOT EXISTS oar;
       CONNECT mysql;
       INSERT INTO user (Host,User,Password) VALUES('localhost','oar',PASSWORD('oar'));
       INSERT INTO user (Host,User,Password) VALUES('%','oar',PASSWORD('oar'));
       INSERT INTO db  (Host,Db,User,Select_priv,Insert_priv,Update_priv,Delete_priv, Create_priv,Drop_priv)
         VALUES
         ('localhost','oar','oar','Y','Y','Y','Y','Y','Y');
       INSERT INTO db  (Host,Db,User,Select_priv,Insert_priv,Update_priv,Delete_priv, Create_priv,Drop_priv)
         VALUES
         ('%','oar','oar','Y','Y','Y','Y','Y','Y');
       FLUSH PRIVILEGES;
       GRANT ALL ON oar.* TO oar@localhost;
       GRANT ALL ON oar.* TO oar@"%";
       GRANT SELECT ON oar.* TO oarreader@localhost;
       GRANT SELECT ON oar.* TO oarreader@"%";
       FLUSH PRIVILEGES;
   - exec_chroot: mysql &lt; /tmp/init.sql
 - init_oar_db:
   - exec_chroot: |
                  mysql oar &lt; /usr/lib/oar/mysql_structure.sql
                  mysql oar &lt; /usr/lib/oar/mysql_default_admission_rules.sql
                  mysql oar &lt; /usr/lib/oar/default_data.sql || true
 - create_oar_resources:
   - exec_chroot: |
                  oarproperty -a core
                  oarproperty -a cpu
                  oarnodesetting -a -h node1 -p cpu=0 =p core=0
                  oarnodesetting -a -h node1 -p cpu=0 =p core=1
                  oarnodesetting -a -h node1 -p cpu=1 =p core=0
                  oarnodesetting -a -h node1 -p cpu=1 =p core=1
                  oarnodesetting -a -h node2 -p cpu=0 =p core=0
                  oarnodesetting -a -h node2 -p cpu=0 =p core=1
                  oarnodesetting -a -h node2 -p cpu=1 =p core=0
                  oarnodesetting -a -h node2 -p cpu=1 =p core=1
</pre>
<pre>#/var/lib/kameleon/steps/debian-lenny-x86_64/oar_init.yaml
oar_init:
 - include: /var/lib/kameleon/steps/common/oar_init.yaml
 - start_appliance_mysql:
   - exec_chroot: /etc/init.d/mysql start
 - stop_oar_server:
   - exec_chroot: |
                  /etc/init.d/oar-server stop || true
                  /etc/init.d/oar-node stop || true
 - stop_appliance_mysql:
   - exec_chroot: sleep 2; /etc/init.d/mysql stop
</pre>
<ul><li> Each macrostep will produce a bash script that will be executed
</li><li> Each bash script has to store the environment variables somewhere so that the next macrostep can collect them
</li><li> Each microstep definition is an array of commands. Each command is a {key =&gt; value} pair. The key is the name of the command, and the value is the argument. It will result in a part of the bash script, automatically generated by the kameleon engine.
</li><li> The value may contain macro variables: they start with <b>$$</b> and are filled by the global section of the recipe file.
</li><li> A special macro variable <b>$$workdir</b> gives the path of the temporary directory used for the currently built appliance
</li><li> When there's a microstep named <b>include</b>, it means that the content of another file must be inserted
</li></ul>
<a name="Microsteps_commands" id="Microsteps_commands"></a><h4> <span class="mw-headline">Microsteps commands</span></h4>
<ul><li> <b>check_cmd</b>
</li></ul>
<p>Raise an error if the specified command does not exist on the host system
</p>
<ul><li> <b>check_appliance_cmd</b>
</li></ul>
<p>Raise an error if the specified command does not exist inside a chroot in tha appliance system
</p>
<ul><li> <b>exec_current</b>
</li></ul>
<p>Execute the given bash scriptlet on the host system from the current directory (the one from which kameleon has been run)
</p>
<ul><li> <b>exec_appliance</b>
</li></ul>
<p>Execute the given bash scriptlet on the host system from the root of the appliance directory
</p>
<ul><li> <b>exec_chroot</b>
</li></ul>
<p>Execute the given bash scriptlet inside a chroot of the appliance directory
</p>
<ul><li> <b>append_file</b>
</li></ul>
<p>Append a content to a file of the appliance (relative to the root of the appliance).
This commands takes an array of 2 elements as an argument: the first element is the name of the file and the second one is the content to be appended to the file.
</p>
<ul><li> <b>write_file</b>
</li></ul>
<p>Write a content into a file of the appliance. If the file already exists, erase it. Else, create it.
This commands takes an array of 2 elements as an argument: the first element is the name of the file and the second one is the content to be writed into the file.
</p>
<ul><li> <b>set_var</b>
</li></ul>
<p>Set up a bash variable that may be used by latter microsteps. The argument is a 2 element array (name of the variable, value of the variable)
</p>
<ul><li> <b>include</b>
</li></ul>
<p>Not a microstep command, but may be found in place of a microstep name. It means that the given argument is a name of a file to be included
</p>
<ul><li> ...
</li></ul>
<a name="Breakpoints_and_error_handling" id="Breakpoints_and_error_handling"></a><h4> <span class="mw-headline">Breakpoints and error handling</span></h4>
<ul><li> <b>Breakpoints</b>
</li></ul>
<p>The kameleon engine should provide a way to specify macrostep/microstep breakpoints. For example, the user may want to stop kameleon just before the "oar_init/init_oar_db" step. Similarily, we may want to start at a specified step. For this last feature, it may be necessary to find a way for the user to provide the name of the working directory, maybe given by a previous breakpoint.
</p>
<ul><li> <b>Error handling</b>
</li></ul>
<p>We want the engine to raise formated errors when a bash scriptlet crashes, with the name of the macrostep and microstep where the error occured. But, we don't want the engine to execute each scriptlet separatelly and return to ruby between each microstep as it may result in performance drawbacks. The engine should generate a script for each macrostep and execute it as a whole. So, to know from which microstep an error occured, it may be necessary to had some kind of labels inside the generated script, for example a trap between each microstep that will force the script to exit with a given status code corresponding to a microstep (limiting the number of microsteps to 255 per macrosteps, by the way...)
</p>
<a name="Changelog.2Ftodo" id="Changelog.2Ftodo"></a><h3> <span class="mw-headline">Changelog/todo</span></h3>
<ul><li> Not finished...more details will come...--<a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=User:Ygeorgiou&amp;action=edit&amp;redlink=1" class="new" title="User:Ygeorgiou (page does not exist)">Ygeorgiou</a> 11:03, 20 May 2009 (UTC)
</li><li> Details added. Still need to continue examples and definitions of microsteps commands --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 15:05, 10 June 2009 (UTC)
</li><li> YAML examples have been syntax checked with ruby. I hope the specifications are ok for coding the engine now! --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 14:35, 11 June 2009 (UTC)
</li><li> Maybe missing: examples of what scriptlet should produce the microsteps commands (resulting script of the provided oar_install and oar_init examples) --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 16:20, 11 June 2009 (UTC)
</li></ul>
<a name="Initial_Workplan" id="Initial_Workplan"></a><h3> <span class="mw-headline">Initial Workplan</span></h3>
<a name="Roadmap_.28and_Timeline.29" id="Roadmap_.28and_Timeline.29"></a><h2> <span class="mw-headline">Roadmap (and Timeline)</span></h2>
<a name="TODO_list" id="TODO_list"></a><h2> <span class="mw-headline">TODO list</span></h2>
<a name="Mentor" id="Mentor"></a><h3> <span class="mw-headline">Mentor</span></h3>
<ul><li> <s>Construct the Grid5000 image used for the project</s>
</li><li> Write a wiki page for explanations on how to configure an OAR cluster upon Grid5000 ...the configuration process used upon grid5000 will be quite similar (but simpler) with that used for the case of cluster of liveCDs or appliances... 
</li><li> check about the lvm partitions used in the case of images with xen
</li><li> finish the construction of the lenny-xen image upon Grid5000
<ul><li> install OAR upon it 
</li><li> configure it to work with lvm partitions
</li></ul>
</li><li> construct the fedora liveCD from RPMs (first simple construction from Bruno) ... <i>(Bruno):well, fedora, or even better Scientific Linux, CentOS or Suse</i>
</li></ul>
<p>--<a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=User:Ygeorgiou&amp;action=edit&amp;redlink=1" class="new" title="User:Ygeorgiou (page does not exist)">Ygeorgiou</a> 15:57, 29 April 2009 (UTC)
</p><p><br />
</p>
<a name="Links" id="Links"></a><h2> <span class="mw-headline">Links</span></h2>
<ul><li> <b>Febootstrap</b>, a debootstrap equivalent for Fedora. <a href="http://et.redhat.com/~rjones/febootstrap/" class="external free" title="http://et.redhat.com/~rjones/febootstrap/" rel="nofollow">http://et.redhat.com/~rjones/febootstrap/</a> --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 16:00, 29 April 2009 (UTC)
</li><li> <b>rpmstrap</b>, unfortunately no package for lenny?? <a href="http://packages.debian.org/etch/rpmstrap" class="external free" title="http://packages.debian.org/etch/rpmstrap" rel="nofollow">http://packages.debian.org/etch/rpmstrap</a> --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 16:00, 29 April 2009 (UTC)
</li><li> CenOS bootstraping not very complicated: <a href="http://lists.centos.org/pipermail/centos/2005-September/009506.html" class="external free" title="http://lists.centos.org/pipermail/centos/2005-September/009506.html" rel="nofollow">http://lists.centos.org/pipermail/centos/2005-September/009506.html</a> (I think we should do the same thing, but with patterns in place of the version numbers of each package) --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 6:10, 30 April 2009 (UTC)
</li><li> <b>Rinse</b> PROMISING!!! <a href="http://packages.debian.org/fr/sid/rinse" class="external free" title="http://packages.debian.org/fr/sid/rinse" rel="nofollow">http://packages.debian.org/fr/sid/rinse</a>  Use the sid version (lenny one is broken for centos5 bootstraping) --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 06:40, 30 April 2009 (UTC)
</li></ul>
<p>Note: amd64 for x64_64: rinse --distribution centos-5 --directory ./centos-oar-appliance --arch amd64 --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 12:33, 30 April 2009 (UTC)
</p>
<ul><li><b>CAOS Linux</b> a linux distribution specialized for clusters with SLURM or Torque as options for resource management, <a href="http://wiki.caoslinux.org/Main_Page" class="external free" title="http://wiki.caoslinux.org/Main_Page" rel="nofollow">http://wiki.caoslinux.org/Main_Page</a> and <a href="http://wiki.caoslinux.org/Main_Page" class="external free" title="http://wiki.caoslinux.org/Main_Page" rel="nofollow">http://wiki.caoslinux.org/Main_Page</a> and an article for its installation&nbsp;: <a href="http://www.linux-mag.com/id/7239/2/" class="external free" title="http://www.linux-mag.com/id/7239/2/" rel="nofollow">http://www.linux-mag.com/id/7239/2/</a> --<a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=User:Ygeorgiou&amp;action=edit&amp;redlink=1" class="new" title="User:Ygeorgiou (page does not exist)">Ygeorgiou</a> 10:04, 16 May 2009 (UTC)
</li><li><b>kpartx</b>: for hdd image creation (Qemu appliance): <a href="http://pwet.fr/man/linux/administration_systeme/kpartx" class="external free" title="http://pwet.fr/man/linux/administration_systeme/kpartx" rel="nofollow">http://pwet.fr/man/linux/administration_systeme/kpartx</a> --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 13:51, 19 May 2009 (UTC)
</li><li><b>kiwi</b>: Image system&nbsp;:<a href="http://kiwi.berlios.de/" class="external free" title="http://kiwi.berlios.de/" rel="nofollow">http://kiwi.berlios.de/</a>
</li><li><b>Fedora appliance tools</b>:<a href="https://fedoraproject.org/wiki/Features/ApplianceTools" class="external free" title="https://fedoraproject.org/wiki/Features/ApplianceTools" rel="nofollow">https://fedoraproject.org/wiki/Features/ApplianceTools</a>
</li><li><b>Ubuntu JeOS</b>:<a href="http://www.ubuntu.com/products/whatisubuntu/serveredition/jeos" class="external free" title="http://www.ubuntu.com/products/whatisubuntu/serveredition/jeos" rel="nofollow">http://www.ubuntu.com/products/whatisubuntu/serveredition/jeos</a>
</li><li> <b>Chef</b>: <a href="http://wiki.opscode.com/display/chef/Home" class="external free" title="http://wiki.opscode.com/display/chef/Home" rel="nofollow">http://wiki.opscode.com/display/chef/Home</a> --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 16:45, 6 November 2009 (UTC)
</li><li> <b>KVM-NBD</b>: <a href="index.php/Dealing_with_Grub_on_KVM_images.html" class="external free" title="http://oar.imag.fr/archive/wiki-oar/index.php/Dealing_with_Grub_on_KVM_images" rel="nofollow">http://oar.imag.fr/archive/wiki-oar/index.php/Dealing_with_Grub_on_KVM_images</a> --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 14:22, 10 February 2010 (UTC)
</li></ul>
<a name="Videos" id="Videos"></a><h2> <span class="mw-headline">Videos</span></h2>
<ul><li> kameleon video&nbsp;!!!&nbsp;:<a href="http://www.youtube.com/watch?v=KMT1FLzEn9I" class="external free" title="http://www.youtube.com/watch?v=KMT1FLzEn9I" rel="nofollow">http://www.youtube.com/watch?v=KMT1FLzEn9I</a> --<a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=User:Ygeorgiou&amp;action=edit&amp;redlink=1" class="new" title="User:Ygeorgiou (page does not exist)">Ygeorgiou</a> 14:55, 15 May 2009 (UTC)
<ul><li> Waou, with such a chameleon, our kameleon should be able to make a mid-debian/mid-centos appliance, it's going to be very hard&nbsp;:-) --<a href="index.php/User:Bzizou.html" title="User:Bzizou">Bzizou</a> 10:48, 20 May 2009 (UTC)
</li></ul>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 18/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
#ifexist count: 0/100
-->

<!-- Saved in parser cache with key wikioar:pcache:idhash:91-0!1!0!!en!2!edit=0!printable=1 and timestamp 20150721145107 -->
<div class="printfooter">
Retrieved from "<a href="index.php/Kameleon_Page.html">http://oar.imag.fr/archive/wiki-oar/index.php/Kameleon_Page</a>"</div>
			<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="index.php/Special:Categories.html" title="Special:Categories">Category</a>:&#32;<span dir='ltr'><a href="index.php/Category:Kameleon.html" title="Category:Kameleon">Kameleon</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="index.php/Kameleon_Page.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://oar.imag.fr/archive/wiki-oar/index.php?title=Talk:Kameleon_Page&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="index.php%3Ftitle=Kameleon_Page&amp;action=edit.html" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="index.php%3Ftitle=Kameleon_Page&amp;action=history.html" title="Past revisions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=Kameleon_Page.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(http://oar.imag.fr/schemas/oar_logo_small.png);" href="index.html" title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-Public_portal'>
		<h5>Public portal</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="index.html" title="Visit the main page">Main Page</a></li>
				<li id="n-Appliances-.28Kameleon.29"><a href="index.php/Kameleon.html">Appliances (Kameleon)</a></li>
				<li id="n-OAR-Website"><a href="http://oar.imag.fr">OAR Website</a></li>
				<li id="n-REST-API"><a href="index.php/RESTfullAPI.html">REST API</a></li>
				<li id="n-Customization-tips"><a href="index.php/Configuration_tips.html">Customization tips</a></li>
				<li id="n-OAR.27s-News"><a href="http://oar.imag.fr/news/">OAR's News</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-Summer_of_Code'>
		<h5>Summer of Code</h5>
		<div class='pBody'>
			<ul>
				<li id="n-GSoC-Summary"><a href="index.php/Google_summer_of_code.html">GSoC Summary</a></li>
				<li id="n-2010-edition"><a href="index.php/GSOC_2010.html">2010 edition</a></li>
				<li id="n-2009-edition"><a href="index.php/GSOC_2009.html">2009 edition</a></li>
				<li id="n-2008-edition"><a href="http://oar.imag.fr/works/gsoc/2008/">2008 edition</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-Related_links'>
		<h5>Related links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Summary"><a href="index.php/Links.html">Summary:</a></li>
				<li id="n-About-OAR-.28French.29"><a href="http://www.projet-plume.org/fr/fiche/oar">About OAR (French)</a></li>
				<li id="n-TakTuk"><a href="http://taktuk.gforge.inria.fr/">TakTuk</a></li>
				<li id="n-CiGri"><a href="http://cigri.imag.fr/">CiGri</a></li>
				<li id="n-Kameleon"><a href="index.php/Kameleon.html">Kameleon</a></li>
				<li id="n-ComputeMode"><a href="http://computemode.imag.fr/">ComputeMode</a></li>
				<li id="n-Xionee"><a href="https://gforge.inria.fr/projects/xionee/">Xionee</a></li>
				<li id="n-KaDeploy"><a href="http://kadeploy.imag.fr/">KaDeploy</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-Developers_portal'>
		<h5>Developers portal</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Summary"><a href="index.php/Developers_Pages.html">Summary:</a></li>
				<li id="n-Meetings-reports"><a href="index.php/Category:Portal:Staff:MeetingReports.html">Meetings reports</a></li>
				<li id="n-Assigned-TaskList"><a href="index.php/Special:TaskList/all.html">Assigned TaskList</a></li>
				<li id="n-Todo-Page"><a href="index.php/TODO.html">Todo Page</a></li>
				<li id="n-Tools-and-Tips"><a href="index.php/Devel_Tools_tips.html">Tools and Tips</a></li>
				<li id="n-FAQ"><a href="index.php/FAQ.html">FAQ</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://oar.imag.fr/archive/wiki-oar/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search WikiOAR [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="index.php/Special:WhatLinksHere/Kameleon_Page.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="index.php/Special:RecentChangesLinked/Kameleon_Page.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="index.php/Special:SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="index.php%3Ftitle=Kameleon_Page&amp;printable=yes&amp;printable=yes.html" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="index.php%3Ftitle=Kameleon_Page&amp;oldid=2944.html" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 14 February 2011, at 13:20.</li>
					<li id="viewcount">This page has been accessed 22,192 times.</li>
					<li id="about"><a href="index.php/WikiOAR:About.html" title="WikiOAR:About">About WikiOAR and OAR logo</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.112 secs. --></body></html>
